{% extends 'layout-rules.html.twig' %}

{# /règles/capacités-arcaniques #}
{# @var arcane \App\Entity\Rule\Arcane #}
{# @var arcanes \App\Entity\Rule\Arcane[] #}
{# @var abilities \App\Entity\Rule\Ability[] #}

{% set header_bg = asset('resources/images/arcanes/'~arcane.id~'.jpg') %}
{% set subtitle = 'Capacités de '~arcane.name %}

{% block container %}
  {{ include('includes/rules/breadcrumb_abilities.html.twig', [arcanes, arcane]) }}

  <div class="block block-intro">
    <p>{{ arcane.description|raw }}</p>
  </div>

  <section>
    <div>
      {% for ability in abilities %}
      <div id="{{ ability.slug }}" class="block-title">
        <div>
          <h1>{{ ability.name }}</h1>
        </div>
        <span>{{ ability.short }}</span>
      </div>

      <div class="block block-split">
        <div class="block-content">
          {# Tabs #}
          {#<div class="tabs-wrapper">#}
            {#<div>#}
              {#<ul class="tabs">#}
                {#<li class="tab"><a href="#test1">Test 1</a></li>#}
                {#<li class="tab"><a class="active" href="#test2">Test 2</a></li>#}
              {#</ul>#}
            {#</div>#}
            {% for increase in ability.increases %}
                {#<div id="test1">{{ increase.description }}</div>#}
            {% endfor %}
          {#</div>#}
          <p>{{ ability.description|raw }}</p>
          {% if ability.abilitiesRequired|length > 0 %}
            <span class="need"><span>Nécessite :</span> {{ ability.abilitiesRequired|join(', ') }}</span>
          {% endif %}
        </div>

        <div class="bg-block" style="background-image: url({{ asset('resources/images/abilities/'~ability.id~'.jpg') }})"></div>

        <img src="{{ asset('resources/images/arcanes/icons/'~arcane.id~'-bg.svg') }}" alt="{{ arcane.name }}">
      </div>
      {% endfor %}
    </div>
  </section>
{% endblock %}
